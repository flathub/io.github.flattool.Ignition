{
	"id": "io.github.flattool.Ignition",
	"runtime": "org.gnome.Platform",
	"runtime-version": "49",
	"sdk": "org.gnome.Sdk",
	"sdk-extensions": [
		"org.freedesktop.Sdk.Extension.node22",
		"org.freedesktop.Sdk.Extension.typescript"
	],
	"command": "io.github.flattool.Ignition",
	"finish-args": [
		"--share=ipc",
		"--socket=fallback-x11",
		"--device=dri",
		"--socket=wayland",
		"--filesystem=xdg-config/autostart:create",
		"--filesystem=xdg-data/icons:ro",
		"--filesystem=xdg-data/applications:ro",
		"--filesystem=xdg-data/flatpak:ro",
		"--filesystem=/var/lib/flatpak:ro",
		"--filesystem=/var/lib/snapd:ro",
		"--filesystem=/snap:ro",
		"--filesystem=host-os:ro",
		"--filesystem=host-etc:ro"
	],
	"cleanup": [
		"/include",
		"/lib/pkgconfig",
		"/man",
		"/share/doc",
		"/share/gtk-doc",
		"/share/man",
		"/share/pkgconfig",
		"*.la",
		"*.a"
	],
	"modules": [
		{
			"name": "jasmine-gjs",
			"buildsystem": "meson",
			"sources": [
				{
					"type": "git",
					"tag": "3.10.1",
					"commit": "0b419384c7446ae74cd2fac295b9db5a18ce4ab1",
					"url": "https://github.com/ptomato/jasmine-gjs.git",
					"x-checker-data": {
						"type": "git",
						"tag-pattern": "^([\\d.]+)$"
					}
				}
			],
			"cleanup": ["*"]
		},
		{
			"name": "ignition",
			"builddir": true,
			"buildsystem": "meson",
			"config-opts": ["-Dprofile=default"],
			"build-options": {
				"append-path": "/usr/lib/sdk/node22/bin:/usr/lib/sdk/typescript/bin"
			},
			"sources": [
				{
					"type": "git",
					"tag" : "2.3.1",
					"commit": "76106e2de244c0b4ead570e41591e68913e92c71",
					"url" : "https://github.com/flattool/ignition.git",
					"x-checker-data": {
						"type": "git",
						"tag-pattern": "^([\\d.]+)$"
					}
				}
			]
		}
	]
}
